
> stjs@1.0.0 test /u/stjs
> mocha */test/test-*.js "-g" "places blocks"



  places blocks
    1) places a single unit block
    2) places a large block
    3) places a row of two blocks
    4) places a column of two blocks
    5) places a grid of rows of columns


  0 passing (12ms)
  5 failing

  1) places blocks
       places a single unit block:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly \
       deep-equal:
+ actual - expected

  [
    'block',
    0,
    0,
+   1,
+   1
  ]
      + expected - actual

       [
         "block"
         0
         0
      -  1
      -  1
       ]
      
      at Context.<anonymous> \
       (/u/stjs/layout-engine/test/test-placed.js:11:12)
      at processImmediate (internal/timers.js:461:21)

  2) places blocks
       places a large block:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly \
       deep-equal:
+ actual - expected

  [
    'block',
    0,
    0,
+   3,
+   4
  ]
      + expected - actual

       [
         "block"
         0
         0
      -  3
      -  4
       ]
      
      at Context.<anonymous> \
       (/u/stjs/layout-engine/test/test-placed.js:20:12)
      at processImmediate (internal/timers.js:461:21)

  3) places blocks
       places a row of two blocks:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly \
       deep-equal:
+ actual - expected

  [
    'row',
    0,
    0,
+   3,
+   4,
+   [
+     'block',
+     0,
+     3,
+     1,
+     4
+   ],
+   [
+     'block',
+     1,
+     0,
+     3,
+     4
-   [
-     'block',
-     0,
-     -3
-   ],
-   [
-     'block',
-     1,
-     0
    ]
  ]
      + expected - actual

       [
         "row"
         0
         0
      -  3
      -  4
         [
           "block"
           0
      -    3
      -    1
      -    4
      +    -3
         ]
         [
           "block"
           1
           0
      -    3
      -    4
         ]
       ]
      
      at Context.<anonymous> \
       (/u/stjs/layout-engine/test/test-placed.js:32:12)
      at processImmediate (internal/timers.js:461:21)

  4) places blocks
       places a column of two blocks:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly \
       deep-equal:
+ actual - expected

  [
    'col',
    0,
    0,
+   2,
+   5,
+   [
+     'block',
+     0,
+     0,
+     1,
+     1
+   ],
+   [
+     'block',
+     0,
+     1,
+     2,
+     5
-   [
-     'block',
-     0,
-     0
-   ],
-   [
-     'block',
-     0,
-     -1
    ]
  ]
      + expected - actual

       [
         "col"
         0
         0
      -  2
      -  5
         [
           "block"
           0
           0
      -    1
      -    1
         ]
         [
           "block"
           0
      -    1
      -    2
      -    5
      +    -1
         ]
       ]
      
      at Context.<anonymous> \
       (/u/stjs/layout-engine/test/test-placed.js:44:12)
      at processImmediate (internal/timers.js:461:21)

  5) places blocks
       places a grid of rows of columns:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly \
       deep-equal:
+ actual - expected ... Lines skipped

  [
    'col',
    0,
    0,
+   14,
+   22,
+   [
+     'row',
+     0,
+     0,
+     4,
+     4,
+     [
+       'block',
+       0,
+       2,
+       1,
+       4
+     ],
+     [
+       'block',
+       1,
+       0,
+       4,
+       4
+     ]
+   ],
+   [
...
-   [
-     'row',
-     0,
-     0,
-     [
-       'block',
-       0,
-       -2
-     ],
-     [
-       'block',
-       1,
-       0
-     ]
-   ],
-   [
-     'row',
-     0,
-     -4,
-     [
-       'block',
-       0,
-       -16
-     ],
...
      + expected - actual

       [
         "col"
         0
         0
      -  14
      -  22
         [
           "row"
           0
           0
      -    4
      -    4
           [
             "block"
             0
      -      2
      -      1
      -      4
      +      -2
           ]
           [
             "block"
             1
             0
      -      4
      -      4
           ]
         ]
         [
           "row"
           0
      -    4
      -    14
      -    22
      +    -4
           [
             "block"
             0
      -      16
      -      5
      -      22
      +      -16
           ]
           [
             "col"
             5
      -      4
      -      14
      -      22
      +      -4
             [
               "block"
               5
      -        4
      -        12
      -        12
      +        -4
             ]
             [
               "block"
               5
      -        12
      -        14
      -        22
      +        -12
             ]
           ]
         ]
       ]
      
      at Context.<anonymous> \
       (/u/stjs/layout-engine/test/test-placed.js:66:12)
      at processImmediate (internal/timers.js:461:21)



npm ERR! code ELIFECYCLE
npm ERR! errno 5
npm ERR! stjs@1.0.0 test: `mocha */test/test-*.js "-g" "places blocks"`
npm ERR! Exit status 5
npm ERR! 
npm ERR! Failed at the stjs@1.0.0 test script.
npm ERR! This is probably not a problem with npm. There is likely \
 additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     \
 /Users/gvwilson/.npm/_logs/2020-12-10T21_36_30_745Z-debug.log
